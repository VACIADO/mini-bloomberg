<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mini Bloomberg - Panel Completo</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #fff;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 10px;
      justify-content: center;
    }

    .panel {
      border: 1px solid #444;
      border-radius: 8px;
      background-color: #1e1e1e;
      box-sizing: border-box;
      padding: 10px;
      flex: 1 1 45%;
      min-width: 300px;
      display: flex;
      flex-direction: column;
      height: 400px;
    }

    h2 {
      margin: 0 0 5px 0;
      text-align: center;
      font-size: 1.1rem;
    }

    .tradingview-widget-container {
      flex: 1;
      margin-top: 5px;
      border-radius: 6px;
      overflow: hidden;
    }

    .selector {
      margin-bottom: 5px;
      padding: 3px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 0.9rem;
    }

    #ia-console {
      width: 100%;
      background: #000;
      color: #0f0;
      font-family: monospace;
      padding: 6px;
      height: 100px;
      overflow-y: auto;
      font-size: 0.8rem;
      margin-top: 8px;
      border-radius: 4px;
      border: 1px solid #444;
    }
  </style>
</head>
<body>

  <!-- PANEL EURO / CORRELADOS -->
  <div class="panel" id="panel-eurodolar">
    <h2>Euro / Correlados</h2>
    <select class="selector" onchange="updateWidget(this, 'tv_eurodolar')">
      <option value="FX:EURUSD">EUR/USD</option>
      <option value="TVC:EU10Y">Bono Euro 10Y</option>
      <option value="OANDA:XAUUSD">Oro</option>
      <option value="TVC:UKOIL">Petróleo Brent</option>
      <option value="BINANCE:BTCUSDT">BTC</option>
    </select>
    <div class="tradingview-widget-container"><div id="tv_eurodolar"></div></div>
  </div>

  <!-- PANEL DXY / CORRELADOS -->
  <div class="panel" id="panel-dolar">
    <h2>DXY / Correlados</h2>
    <select class="selector" onchange="updateWidget(this, 'tv_dxy')">
      <option value="TVC:DXY">DXY</option>
      <option value="TVC:US10Y">Bono USA 10Y</option>
      <option value="SP:SPX">S&P500</option>
      <option value="NASDAQ:NDX">Nasdaq 100</option>
      <option value="TVC:VIX">VIX</option>
    </select>
    <div class="tradingview-widget-container"><div id="tv_dxy"></div></div>
  </div>

  <!-- PANEL CFD POLMILLONE -->
  <div class="panel" id="panel-cfd">
    <h2>CFD - Polmillone</h2>
    <select class="selector" onchange="updateWidget(this, 'tv_cfd')">
      <option value="SP:SPX">S&P500</option>
      <option value="FX:EURUSD">EUR/USD</option>
      <option value="TVC:EU10Y">Bono Euro 10Y</option>
      <option value="OANDA:XAUUSD">Oro</option>
      <option value="TVC:UKOIL">Petróleo Brent</option>
      <option value="BINANCE:BTCUSDT">BTC</option>
      <option value="NASDAQ:NDX">Nasdaq 100</option>
      <option value="TVC:VIX">VIX</option>
      <option value="TVC:DXY">DXY</option>
      <option value="TVC:US10Y">Bono USA 10Y</option>
    </select>
    <div class="tradingview-widget-container"><div id="tv_cfd"></div></div>
    <div id="ia-console">Consola de IA activa... aquí se mostrarán análisis, mensajes y correlaciones.</div>
  </div>

  <!-- TradingView JS -->
  <script src="https://s3.tradingview.com/tv.js"></script>
  <script>
    function crearWidget(symbol, containerId) {
      document.getElementById(containerId).innerHTML = "";
      new TradingView.widget({
        container_id: containerId,
        symbol: symbol,
        interval: "60",
        timezone: "Europe/Madrid",
        theme: "dark",
        style: "1",
        locale: "es",
        hide_top_toolbar: true,
        width: "100%",
        height: "100%"
      });
    }

    function updateWidget(select, containerId) {
      crearWidget(select.value, containerId);
      document.getElementById('ia-console').innerText = `Gráfico actualizado a: ${select.value}`;
    }

    // Inicializamos todos los widgets
    crearWidget("FX:EURUSD", "tv_eurodolar");
    crearWidget("TVC:DXY", "tv_dxy");
    crearWidget("SP:SPX", "tv_cfd");
  </script>

</body>
</html>
