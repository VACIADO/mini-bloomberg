<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mini Bloomberg Profesional</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      height: 100vh;
      background-color: #1e1e1e;
      color: #fff;
    }
    .column {
      flex: 1;
      display: flex;
      flex-direction: column;
      border: 1px solid #444;
      padding: 10px;
      box-sizing: border-box;
      overflow-y: auto;
    }
    .panel {
      border: 1px solid #555;
      padding: 10px;
      margin-bottom: 10px;
      flex: 1;
      display: flex;
      flex-direction: column;
      background-color: #2b2b2b;
    }
    h2 { text-align: center; margin: 0 0 5px 0; font-size: 1.1em; }
    select {
      margin: 5px 0;
      padding: 5px;
      background-color: #111;
      color: #0f0;
      border: 1px solid #555;
    }
    .tradingview-widget-container { flex: 1; margin-top: 5px; }
    #ia-console {
      background-color: #111;
      color: #0f0;
      font-family: monospace;
      padding: 10px;
      height: 150px;
      overflow-y: auto;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<!-- COLUMNA IZQUIERDA: EURO / USD y correlacionados -->
<div class="column">
  <div class="panel">
    <h2>EUR/USD y correlacionados</h2>
    <select id="symbol_eurusd">
      <option value="FX:EURUSD">EUR/USD</option>
      <option value="TVC:EU10Y">Bono EU 10Y</option>
      <option value="TVC:US10Y">Bono USA 10Y</option>
      <option value="COMEX:GC1!">Oro</option>
      <option value="ICE:BRENT">Petróleo (Brent)</option>
      <option value="BINANCE:BTCUSDT">BTC</option>
    </select>
    <div class="tradingview-widget-container" id="container_eurusd"></div>
  </div>
</div>

<!-- COLUMNA DERECHA: DXY e índices -->
<div class="column">
  <div class="panel">
    <h2>Índice del Dólar y correlacionados</h2>
    <select id="symbol_dxy">
      <option value="INDEX:DXY">DXY</option>
      <option value="SP:SPX">S&P 500</option>
      <option value="NASDAQ:IXIC">Nasdaq</option>
      <option value="CBOE:VIX">VIX</option>
      <option value="SP:SPX">CFD Polmillone</option>
    </select>
    <div class="tradingview-widget-container" id="container_dxy"></div>
  </div>

  <div id="ia-console">Consola IA activa aquí...</div>
</div>

<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script>
  function crearWidget(containerId, symbol) {
    return new TradingView.widget({
      "width": "100%",
      "height": "100%",
      "symbol": symbol,
      "interval": "60",
      "timezone": "Europe/Madrid",
      "theme": "dark",
      "style": "1",
      "locale": "es",
      "hide_top_toolbar": true,
      "container_id": containerId
    });
  }

  // Inicializamos widgets
  let widgets = {
    eurusd: crearWidget("container_eurusd", "FX:EURUSD"),
    dxy: crearWidget("container_dxy", "INDEX:DXY")
  };

  // Función para actualizar widget al cambiar símbolo
  function actualizarWidget(selectId, containerId, key) {
    document.getElementById(selectId).addEventListener('change', function() {
      let symbol = this.value;
      document.getElementById(containerId).innerHTML = "";
      widgets[key] = crearWidget(containerId, symbol);
    });
  }

  actualizarWidget("symbol_eurusd", "container_eurusd", "eurusd");
  actualizarWidget("symbol_dxy", "container_dxy", "dxy");
</script>

</body>
</html>
