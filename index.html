<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mini Bloomberg - Panel</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-wrap: wrap;
      height: 100vh;
      background-color: #111;
      color: #fff;
    }
    .panel {
      border: 1px solid #333;
      box-sizing: border-box;
      padding: 10px;
      flex: 1 1 50%;
      height: 50%;
      display: flex;
      flex-direction: column;
    }
    h2 { margin-top: 0; text-align: center; }
    .tradingview-widget-container { flex: 1; margin-top: 5px; }
    .symbol-input { width: 100%; margin-bottom: 5px; }
    .label-type { font-size: 0.9em; color: #aaa; margin-bottom: 3px; }
  </style>
</head>
<body>

  <!-- Panel Forex -->
  <div class="panel" id="panel-forex">
    <h2>Forex / Monedas</h2>

    <div class="label-type">EUR/USD</div>
    <input class="symbol-input" id="sym_eurusd" value="EURUSD">
    <div class="tradingview-widget-container"><div id="tv_eurusd"></div></div>

    <div class="label-type">Índice Euro</div>
    <input class="symbol-input" id="sym_euro_idx" value="EURO">
    <div class="tradingview-widget-container"><div id="tv_euro_idx"></div></div>

    <div class="label-type">DXY / Índice Dólar</div>
    <input class="symbol-input" id="sym_dxy" value="DXY">
    <div class="tradingview-widget-container"><div id="tv_dxy"></div></div>
  </div>

  <!-- Panel Bonos -->
  <div class="panel" id="panel-bonos">
    <h2>Bonos</h2>

    <div class="label-type">Bono Europeo 10Y</div>
    <input class="symbol-input" id="sym_bono_eu" value="EU10Y">
    <div class="tradingview-widget-container"><div id="tv_bono_eu"></div></div>

    <div class="label-type">Bono USA 10Y</div>
    <input class="symbol-input" id="sym_bono_us" value="US10Y">
    <div class="tradingview-widget-container"><div id="tv_bono_us"></div></div>
  </div>

  <!-- Panel Materias primas -->
  <div class="panel" id="panel-commodities">
    <h2>Materias primas</h2>

    <div class="label-type">Oro (GOLD)</div>
    <input class="symbol-input" id="sym_oro" value="GOLD">
    <div class="tradingview-widget-container"><div id="tv_oro"></div></div>

    <div class="label-type">Petróleo (BRENT)</div>
    <input class="symbol-input" id="sym_petroleo" value="BRENT">
    <div class="tradingview-widget-container"><div id="tv_petroleo"></div></div>
  </div>

  <!-- Panel Cripto -->
  <div class="panel" id="panel-crypto">
    <h2>Criptomonedas</h2>

    <div class="label-type">BTC</div>
    <input class="symbol-input" id="sym_btc" value="BTC">
    <div class="tradingview-widget-container"><div id="tv_btc"></div></div>
  </div>

  <!-- Panel Índices -->
  <div class="panel" id="panel-indices">
    <h2>Índices</h2>

    <div class="label-type">NASDAQ</div>
    <input class="symbol-input" id="sym_nasdaq" value="NASDAQ">
    <div class="tradingview-widget-container"><div id="tv_nasdaq"></div></div>

    <div class="label-type">S&P 500 (SPX)</div>
    <input class="symbol-input" id="sym_sp500" value="SPX">
    <div class="tradingview-widget-container"><div id="tv_sp500"></div></div>
  </div>

  <!-- Panel Otros -->
  <div class="panel" id="panel-otros">
    <h2>Otros</h2>

    <div class="label-type">VIX</div>
    <input class="symbol-input" id="sym_vix" value="VIX">
    <div class="tradingview-widget-container"><div id="tv_vix"></div></div>

    <div class="label-type">CFD Polmillone</div>
    <input class="symbol-input" id="sym_cfd" value="POLMILLONE">
    <div class="tradingview-widget-container"><div id="tv_cfd"></div></div>
  </div>

  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script>
    const widgets = {};

    function crearWidget(containerId, symbol) {
      if(widgets[containerId]) widgets[containerId].remove();
      widgets[containerId] = new TradingView.widget({
        width: "100%",
        height: "100%",
        symbol: symbol,
        interval: "60",
        timezone: "Europe/Madrid",
        theme: "dark",
        style: "1",
        locale: "es",
        hide_top_toolbar: true,
        container_id: containerId
      });
    }

    // Lista de todos los gráficos con su input
    const simbolos = [
      {id: "tv_eurusd", input: "sym_eurusd"},
      {id: "tv_euro_idx", input: "sym_euro_idx"},
      {id: "tv_dxy", input: "sym_dxy"},
      {id: "tv_bono_eu", input: "sym_bono_eu"},
      {id: "tv_bono_us", input: "sym_bono_us"},
      {id: "tv_oro", input: "sym_oro"},
      {id: "tv_petroleo", input: "sym_petroleo"},
      {id: "tv_btc", input: "sym_btc"},
      {id: "tv_nasdaq", input: "sym_nasdaq"},
      {id: "tv_sp500", input: "sym_sp500"},
      {id: "tv_vix", input: "sym_vix"},
      {id: "tv_cfd", input: "sym_cfd"}
    ];

    // Inicializar y permitir cambiar símbolos dinámicamente
    simbolos.forEach(s => {
      crearWidget(s.id, document.getElementById(s.input).value);
      document.getElementById(s.input).addEventListener("change", () => {
        crearWidget(s.id, document.getElementById(s.input).value);
      });
    });
  </script>
</body>
</html>
